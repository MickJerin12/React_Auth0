{"ast":null,"code":"import _classCallCheck from \"/Users/mickjerin/Securing React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mickjerin/Securing React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mickjerin/Securing React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mickjerin/Securing React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mickjerin/Securing React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mickjerin/Securing React/src/App.js\";\nimport React, { Component } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Home from \"./Home\";\nimport Profile from \"./Profile\";\nimport Nav from \"./Nav\";\nimport Auth from \"./Auth/Auth\";\nimport Callback from \"./Callback\";\nimport Public from \"./Public\";\nimport Private from \"./Private\";\nimport Courses from \"./Courses\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport AuthContext from \"./AuthContext\";\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      auth: new Auth(_this.props.history),\n      tokenRenewalComplete: false\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.state.auth.renewToken(function () {\n        return _this2.setState({\n          tokenRenewalComplete: true\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var auth = this.state.auth; // Show loading message until the token renewal check is completed.\n\n      if (!this.state.tokenRenewalComplete) return \"Loading...\";\n      return /*#__PURE__*/React.createElement(AuthContext.Provider, {\n        value: auth,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Nav, {\n        auth: auth,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        path: \"/\",\n        exact: true,\n        render: function render(props) {\n          return /*#__PURE__*/React.createElement(Home, Object.assign({\n            auth: auth\n          }, props, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 30\n            }\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/callback\",\n        render: function render(props) {\n          return /*#__PURE__*/React.createElement(Callback, Object.assign({\n            auth: auth\n          }, props, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 30\n            }\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(PrivateRoute, {\n        path: \"/profile\",\n        component: Profile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/public\",\n        component: Public,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(PrivateRoute, {\n        path: \"/private\",\n        component: Private,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(PrivateRoute, {\n        path: \"/courses\",\n        component: Courses,\n        scopes: [\"read:courses\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/mickjerin/Securing React/src/App.js"],"names":["React","Component","Route","Home","Profile","Nav","Auth","Callback","Public","Private","Courses","PrivateRoute","AuthContext","App","props","state","auth","history","tokenRenewalComplete","renewToken","setState"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Home from \"./Home\";\nimport Profile from \"./Profile\";\nimport Nav from \"./Nav\";\nimport Auth from \"./Auth/Auth\";\nimport Callback from \"./Callback\";\nimport Public from \"./Public\";\nimport Private from \"./Private\";\nimport Courses from \"./Courses\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport AuthContext from \"./AuthContext\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth: new Auth(this.props.history),\n      tokenRenewalComplete: false\n    };\n  }\n\n  componentDidMount() {\n    this.state.auth.renewToken(() =>\n      this.setState({ tokenRenewalComplete: true })\n    );\n  }\n\n  render() {\n    const { auth } = this.state;\n    // Show loading message until the token renewal check is completed.\n    if (!this.state.tokenRenewalComplete) return \"Loading...\";\n    return (\n      <AuthContext.Provider value={auth}>\n        <Nav auth={auth} />\n        <div className=\"body\">\n          <Route\n            path=\"/\"\n            exact\n            render={props => <Home auth={auth} {...props} />}\n          />\n          <Route\n            path=\"/callback\"\n            render={props => <Callback auth={auth} {...props} />}\n          />\n          <PrivateRoute path=\"/profile\" component={Profile} />\n          <Route path=\"/public\" component={Public} />\n          <PrivateRoute path=\"/private\" component={Private} />\n          <PrivateRoute\n            path=\"/courses\"\n            component={Courses}\n            scopes={[\"read:courses\"]}\n          />\n        </div>\n      </AuthContext.Provider>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}